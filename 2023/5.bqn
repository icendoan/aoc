sections â† ((Â¯1+Â¬Ã—1++`) 0=â‰ Â¨)âŠ¸âŠ” â€¢file.Lines "5.test"
Split â†  (âŠ¢-Ëœ+`Ã—Â¬)âŠ¸âŠ” 
seeds â† â€¢ParseFloatÂ¨ (0â‰ â‰ Â¨)âŠ¸/ ' 'âŠ¸=âŠ¸Split Â¯1 âŠ‘ ':'âŠ¸=âŠ¸Split âŠ‘âŸ2 sections
raw â† (â€¢ParseFloatÂ¨ ' 'âŠ¸=âŠ¸Split)âš‡Â¯2 1 â†“Â¨ 1 â†“ sections
Unpack â† {(â‹âˆ˜âŠ âŠâ‰1 âŠ¢) âˆ¾Â´Ë˜â‰> {ğ•ŠâŸ¨d,s,lâŸ©:âŸ¨âŸ¨s,s+l+1âŸ©,âŸ¨d,s+l+1âŸ©âŸ©}Â¨ ğ•©}
maps â† UnpackÂ¨ raw

Ranges â† { 0âŠ¸âˆ¾ âˆ¾âŸœ1e5 ğ•¨ âŠ ğ•© }

Apply â† { mğ•Šx: s â† m âŠâŠ¸â‹ x â‹„ (s âŠ 1 Ranges m) + x - s âŠ 0 Ranges m }

MakeRange â† { ğ•ŠâŸ¨dst,src,lenâŸ©: { 
 âŸ¨dst, src, len, endâŸ© â‡ âŸ¨dst, src, len, Â¯1 + src + lenâŸ©
 fmt â‡ "(" âˆ¾ (â€¢Fmt src) âˆ¾ "-" âˆ¾ (â€¢Fmt end) âˆ¾ ") â†’ (" âˆ¾ (â€¢Fmt dst) âˆ¾ "-" âˆ¾ (â€¢Fmt dst + len - 1) âˆ¾ ")"
 Contains â‡ (srcâ‰¤âŠ¢)âˆ§((src+len)>âŠ¢)
 Map â‡ Dst + âŠ¢ - Src 
 Overlaps â‡ { ğ•Šğ•©: (Contains ğ•©.src) âˆ¨ (Contains ğ•©.end) âˆ¨ (ğ•©.Contains src) âˆ¨ (ğ•©.Contains end) }
 } 
}
stupid_maps â† MakeRangeâš‡Â¯2 raw
ApplyStupid â† { ranges ğ•Š x: range â† (âŠ‘âŠÂ¯1 / ranges { ğ•¨.Contains ğ•© }Â¨ x) âŠ‘ ranges âˆ¾ MakeRange âŸ¨0,0,1e9âŸ© â‹„ range.Map ğ•© }

locations â† â‰> ApplyStupidËœâ‰0â€¿1` seeds <âŠ¸âˆ¾ stupid_maps
â€¢Show p1 â† âŒŠÂ´Â¯1âŠË˜locations
seed_ranges â† <Ë˜ âˆ˜â€¿2 â¥Š seeds

mâ†1âŠ‘msâ†âŠ‘stupid_maps
sâ†âŠ‘seed_ranges

SplitAndMap â† { map ğ•Š âŸ¨start, lengthâŸ©:
 end â† start + length - 1
 
}
