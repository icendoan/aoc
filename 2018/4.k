\l u.k
x:+{(*x 1;|/(1_|last x)*(!60)within\:/:1_,':|*x)}'+(&x 2)_/:x:({last `i$":"\:x}'-1_'x[;1];{$[^y;x;y]}\`i$'1_'x[;3];"shift"~/:last'x;"asleep"~/:last'x:" "\:'st@1:"4.input");
p1:{I**mx@+/m@&i=I:*(!n)@>. n:+/'(+/'m:x 1)@=i:*x};
p2:{I**mx n@I:*(!n)@mx@.|/'n:+/'x[1]@=i:*x};
