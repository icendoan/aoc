rangesâ€¿ids â† (+`0=â‰ Â¨)âŠ¸âŠ” â€¢file.Lines "5.input"
ranges â†© â€¢BQNÂ¨ (âŠ¢ + ('â€¿'-'-') Ã— '-' = âŠ¢) ranges
ids (â€¢ParseFloatÂ¨ 1â†“âŠ¢)â†©
startsâ€¿ends â† r â† <Ë˜â‰> ranges
In â† {sâ€¿e ğ•Š x: (x â‰¥âŒœ s) âˆ§ (x â‰¤âŒœ e)}
p1 â† +Â´ âˆ¨Â´Ë˜ r In ids
M â† { ğ•Šsâ€¿e:
  # row whose start in included in an existing range
  incâ†-âŸœ(=âŒœËœâ†•âˆ˜â‰ ) sâ€¿e In s
  { 0 â‰¢ +Â´â¥Š inc ?
    iâ†âŠ‘/âˆ¨Â´Ë˜inc 
    # the row associated with that range
    jâ†âŠ‘/iâŠinc
    # rewrite the end of that range to include i
    e ((iâŠ‘e) âŒˆ âŠ¢)âŒ¾(j âŠ‘ âŠ¢)â†©
    # remove the i'th range
    (iâ‰ â†•â‰ s)âŠ¸/Â¨ sâ€¿e
    ;
    sâ€¿e
  }
}
p2 â† +Â´ 1 + -ËœÂ´ M â€¢_while_ (â‰¢âŸœM) r
