hâ€¿w â† â‰¢ maze â† '#' = text â† > â€¢file.Lines "20.in"
basis â† âŸ¨1â€¿0, Â¯1â€¿0, 0â€¿1, 0â€¿Â¯1âŸ©
start â† w (âŒŠâˆ˜Ã·Ëœ âˆ¾ |) /â¥Štext='S'
end   â† w (âŒŠâˆ˜Ã·Ëœ âˆ¾ |) /â¥Štext='E'
Bounds â† (âˆ§Â´ (hâ€¿w > âŠ¢) âˆ§ (0 â‰¤ âŠ¢))Â¨âŠ¸/
scores â† 0 âŒ¾ (start âŠ‘ âŠ¢) hâ€¿w â¥Š âˆ
Advance â† { ğ•Šmazeâ€¿scoresâ€¿set:
  adj â† BoundsÂ¨ <Ë˜ set +âŒœ basis
  exi â† adj âŠ‘ scores
  new â† (â‰ Â¨adj) â¥ŠÂ¨ 1 + set âŠ‘ scores 
  imp â† new < exi
  leg â† Â¬ adj âŠ‘ maze 
  msk â† imp âˆ§ leg
  a   â† âˆ¾ msk /Â¨ adj
  b   â† âˆ¾ msk /Â¨ new âŒŠ exi
  c   â† âŒŠÂ´Â¨ a âŠâŠ¸âŠ” b
  scores câŒ¾((â·a)âŠ‘âŠ¢) â†©
  âŸ¨maze, scores, â·aâŸ©
}
A â† Advance â€¢_while_ {0â‰ â‰ 2âŠ‘ğ•©}
costs â† 1 âŠ‘ A âŸ¨maze, scores, â‹ˆstartâŸ©
inf â† (â‰ maze) â¥Š âˆ
shifts â† âŸ¨Â«Ë˜, Â»Ë˜, Â«, Â»âŸ©
#cheats â† shifts {(inf ğ• inf ğ• ğ•©) - ğ•© + 2}Â¨ <costs
Fil â† {(âˆ > âŠ¢)âŠ¸/ (0 < âŠ¢)âŠ¸/ =ËœâŠ¸/ ğ•©}
Cheat â† {ğ•Šn: Fil â¥Šâˆ¾ shifts {(inf ğ•âŸn ğ•©) - ğ•© + n}Â¨ <costs }
p1 â† +Â´ 100 â‰¤ Cheat 2
exp â† Â¯20 âŒ½ Â¯20 âŒ½Ë˜ costsâŒ¾(h â†‘ w â†‘Ë˜ âŠ¢) (hâ€¿w + 40â€¿40) â¥Š âˆ
dist â† {mâ†â¥Šğ•©>20â‹„âˆÂ¨âŒ¾(mâŠ¸/)âŒ¾â¥Š ğ•©}  (+â—‹|)âŒœËœ Â¯20+â†•41
p2 â† +Â´â¥Š cheats â† {+Â´99<Fil â¥Š (ğ•© - 20â€¿20 âŠ‘ ğ•©) - dist}â‰2 41â€¿41 â†• exp
