map â† > â€¢file.Lines "6.test"
Coord â† â‰ âˆ˜âŠ (âŒŠâˆ˜Ã·Ëœ â‹ˆ |) âŠ‘âˆ˜/âˆ˜â¥Š
start â† Coord mask â† map = '^'
dirs â† âŸ¨"up","right","down","left"âŸ©
# todo: views are incorrect
views â† âŸ¨âŠ‘âˆ˜âŠ£ â†‘ 1âŠ¸âŠ‘âˆ˜âŠ£ âŠË˜ âŠ¢,
 âŒ½ -âˆ˜âŠ‘âˆ˜âŠ£ â†‘ 1âŠ¸âŠ‘âˆ˜âŠ£ âŠË˜ âŠ¢,
 1âŠ¸âŠ‘âˆ˜âŠ£ â†‘ âŠ‘âˆ˜âŠ£ âŠ âŠ¢,
 âŒ½ -âˆ˜(1âŠ¸âŠ‘)âˆ˜âŠ£ â†‘ âŠ‘âˆ˜âŠ£ âŠ âŠ¢âŸ©
DX â† âŠ‘âˆ˜/ dirs â‰¡âš‡1â€¿âˆ âŠ¢
Rot â† {(4|1+DX ğ•©)âŠ‘dirs}
#todo: _mv â† {âŸ¨x,yâŸ© "up" _ğ•£ ğ•©: âŸ¨ğ•©,yâŸ©; âŸ¨x,yâŸ© "down"}
Walk â† {ğ•ŠâŸ¨x,yâŸ©â€¿mapâ€¿maskâ€¿dir:
 v â† (DX dir)âŠ‘views
 â€¢Show saw â† âŸ¨x, yâŸ© V map
 â€¢Show move â† âˆ§` '#' â‰  saw
 mask (move âˆ¨â—‹â€¢Show âŠ¢)âŒ¾( âŸ¨x, yâŸ© V âŠ¢)â†©
 âŸ¨x,âŠ‘/moveâŸ©â€¿mapâ€¿maskâ€¿(Rot dir) # todo: move correctly
}
